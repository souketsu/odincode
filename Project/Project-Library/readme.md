# 项目：图书馆应用

## 项目简介

让我们扩展上一课中的“图书（Book）”示例，将其转化为一个小型图书馆应用程序。

## 任务要求

1. **设置仓库**：如果你还没做，请为该项目创建一个 Git 仓库，并准备好 HTML、CSS 和 JS 的骨架文件。从这里开始，我们将默认你已经完成了此步骤。
2. **数据存储与构造函数**：
    - 你所有的图书对象都将存储在一个数组中。
    - 你需要为图书编写一个**构造函数（Constructor）**。
    - 在脚本中添加一个独立的函数（不在构造函数内部），该函数接收参数，根据参数创建一个图书对象，并将其存入数组。
    - 每个图书对象都应有一个唯一的 `id`，可以使用 `crypto.randomUUID()` 生成。这能确保每本书都有稳定且唯一的标识符，防止在删除或重新排列书籍时出现问题。
    - 你的代码大致如下（仅显示基本框架）：

    ```js
    const myLibrary = [];
            
    function Book() {
    // 构造函数...
    }
            
    function addBookToLibrary() {
    // 接收参数，创建图书并存入数组
    }
    ```

3. **渲染显示**
    - 编写一个函数，遍历数组并在页面上显示每本书。
    - 你可以用表格形式展示，或者让每本书拥有独立的“卡片（Card）”。
    - 目前手动在数组中添加几本书会有助于你观察显示效果。
4. **逻辑分离（重要提示）**：
    - 直接操作 DOM 来显示书籍可能看起来更容易，但从现在起，你应该将这些职责**分开思考**。
    - 我们希望同一套底层数据能够以不同的方式重建。因此，请将“向用户展示书籍的逻辑”与“持有所有信息的书籍结构（数组/对象）”视为**不同的实体**。这种分离将增强代码的可维护性和扩展性。
5. **添加新书表单**：
    - 添加一个“New Book”按钮，点击后弹出表单，允许用户输入新书详情：作者、书名、页数、是否已读等。
    - 展示形式由你决定，例如侧边栏，或者使用 `<dialog>` 标签探索**对话框/模态框（Modals）**。
    - **注意**：提交表单时可能会遇到非预期的行为，因为默认的 `submit` 会尝试将数据发送到服务器。这时你需要使用 `event.preventDefault();`。请查阅相关文档解决此问题。
6. **删除功能**：
    - 在每本书的显示区域添加一个“删除”按钮。
    - 你需要将 DOM 元素与实际的图书对象关联起来。一个简单的方案是给 DOM 元素添加一个 `data-attribute`（数据属性），其值对应图书对象的唯一 `id`。
7. **阅读状态切换**：
    - 在每本书的显示区域添加一个按钮，用于更改其“已读/未读”状态。
    - 为了实现这一点，你需要在 `Book` 的**原型（Prototype）**上创建一个函数，用于切换图书实例的阅读状态。

## 更新

为该表单添加验证！当用户尝试提交空表单字段时（例如：“作者姓名不能为空！”），请显示自定义错误消息。别忘了使用你在基础课程中从“石头剪刀布”回顾中学到的 git 分支工作流程来开发新功能。

### 多练习一下

"创建一个浏览器表单，用于收集电子邮件、国家、邮政编码、密码和密码确认等信息。该表单应支持实时内联验证，即在用户输入时即时验证字段的有效性，而不仅限于表单提交时。如果某个字段填写不正确，应将其以红色高亮显示，并给出错误提示信息，引导用户正确填写。"

表单无需真正提交，但如果按钮被点击且存在激活的错误或未填写的必填字段，应给出错误提示。本课程要求确保 `<form>` 元素具备 `novalidate` 属性，以便在 JavaScript 文件中进行所有验证。虽然可以使用不同的 `<input>` 类型，但必须通过 JavaScript 检查并报告其有效性。若一切正常且表单被“提交”，则向用户表示祝贺（如击掌）。

### 创建一个空的 HTML 文档

花点时间思考一下，你将如何设置不同的表单元素及其相应的验证器。你需要哪些对象和函数？几分钟的思考可以避免你浪费一个小时编码。最好的做法是在接触电脑之前，先在白板上勾勒出整个解决方案。

### 请编写表单元素。"

添加 JavaScript 代码，用于在用户填写表单时进行验证。当用户离开某个表单字段时，应自动验证该字段。

测试所有可能的情况。

别忘了通过 :valid 和 :invalid 伪类使用 CSS 来为验证添加样式！
